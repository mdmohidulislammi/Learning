{% extends "base.html" %}

{% block single_post %}
<main class="max-w-5xl mx-auto px-4 py-8">

  <!-- Blog Image -->
  {% if post.blog_image %}
  <div class="mb-6">
    <img src="{{ post.blog_image.url }}" alt="{{ post.title }}" 
         class="w-full h-64 md:h-96 object-cover rounded-lg shadow-lg">
  </div>
  {% endif %}

  <!-- Blog Title -->
  <h1 class="text-3xl md:text-5xl font-bold text-white mb-4">{{ post.title }}</h1>

  <!-- Post Meta: Author, Date, Category -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 text-gray-400 text-sm sm:text-base">
    <div>
      By <span class="font-semibold text-white">{{ post.author.username }}</span> | 
      {{ post.created_at|date:"F j, Y" }} | 
      Category: <span class="font-semibold text-white">{{ post.category.category_name }}</span>
    </div>
  </div>

  <!-- Post Content -->
  <article class="prose prose-invert max-w-full text-gray-300">
    {{ post.blog_body|safe }}
  </article>

  <!-- delete-update, comment post -->
 
   <div class="flex justify-between items-center flex-wrap gap-4">
      {% if user.is_authenticated %} 
         <button class="rounded-lg font-semibold border border-gray-700 px-4 py-2 bg-gray-500 text-white hover:bg-gray-700 transition">Comment</button>
      {% endif %}
    {% if user.is_superuser %}
           <div class="flex gap-3">
             <a href="{% url 'delete_post' blog.id %}" class="px-3 py-1 bg-rose-600 text-white rounded hover:bg-rose-700 text-sm">
    Delete
</a>
<a href="{% url 'update_post' blog.id %}" class="px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm">
    Update
</a>

            </div>
     {% endif %}
          </div>

      

  <!-- Back Button -->
  <div class="mt-10 gap-6">
    <a href="{% url 'posts' %}" 
       class="inline-block px-4 py-2 bg-blue-500 text-black font-semibold rounded-lg hover:bg-blue-600 transition cursor-pointer">
       ‚Üê Back to All Posts
    </a>
     <a href="{% url 'home' %}" class="cursor-pointer py-2 bg-gray-300 text-black rounded-xl font-semibold hover:bg-red-200 transition">
            Back To Home
        </a>
  </div>

</main>
{% endblock single_post %}
